version: '3.4'
    
services:
  microservice.logging.backgroundprocess:
    image: microserviceloggingbackgroundprocess
    build:
      context: .
      dockerfile: Microservice.Logging.BackgroundProcess/Dockerfile
    network_mode: source_microservice-bridge-network

  microservice.notification.backgroundprocess:
    image: microservicenotificationbackgroundprocess
    build:
      context: .
      dockerfile: Microservice.Notification.BackgroundProcess/Dockerfile
    network_mode: source_microservice-bridge-network
    dns:
      - 8.8.8.8

  microservice.logging.api:
    image: microserviceloggingapi
    build:
      context: .
      dockerfile: Microservice.Logging.API/Dockerfile
    network_mode: source_microservice-bridge-network


  microservice.identityserver:
    image: microserviceidentityserver
    build:
      context: .
      dockerfile: Microservice.IdentityServer/Dockerfile
    network_mode: source_microservice-bridge-network